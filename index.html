<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З</title>
</head>
<body>

<h2>р╕Бр╕│р╕ер╕▒р╕Зр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕ЗтАж</h2>
<div id="status">р╕гр╕нр╕Бр╕▓р╕гр╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З</div>

<script>
const BACKEND_URL = "https://your-backend.com/location"; // ЁЯФ┤ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щр╕Вр╕нр╕Зр╕Др╕╕р╕У

function sendLocation(lat, lng) {
  fetch(BACKEND_URL, {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      latitude: lat,
      longitude: lng,
      time: new Date().toISOString(),
      userAgent: navigator.userAgent
    })
  })
  .then(() => {
    document.getElementById("status").innerHTML = "р╕кр╣Ир╕Зр╕Юр╕┤р╕Бр╕▒р╕Фр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕ер╣Йр╕з";
  })
  .catch(() => {
    document.getElementById("status").innerHTML = "р╕кр╣Ир╕Зр╕Юр╕┤р╕Бр╕▒р╕Фр╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И";
  });
}

if (!navigator.geolocation) {
  document.getElementById("status").innerHTML = "р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣Мр╣Др╕бр╣Ир╕гр╕нр╕Зр╕гр╕▒р╕Ъ GPS";
} else {
  navigator.geolocation.getCurrentPosition(
    pos => {
      const lat = pos.coords.latitude;
      const lng = pos.coords.longitude;
      sendLocation(lat, lng);
    },
    err => {
      document.getElementById("status").innerHTML = "р╣Др╕бр╣Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕нр╕Щр╕╕р╕Нр╕▓р╕Хр╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З";
    },
    { enableHighAccuracy: true }
  );
}
</script>

</body>
</html>
